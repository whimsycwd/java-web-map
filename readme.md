## TODO
1.	后端代码日志
2.	后端mvn 本地库


## Logging

http://logback.qos.ch/

### Step by step tutorial to integrate web app
	https://wiki.base22.com/display/btg/How+to+setup+SLF4J+and+LOGBack+in+a+web+app+-+fast




## RESTful Interface

base url : /api/map

### 1. Find nearest point


`/nearest/{coordinateX}/{coordinateY}`

####Example 
#####Request

	http://127.0.0.1:3000/api/map/nearest/104.0834872/30.6834598


#####Response 
```
{
    "id": 1947584056, 
    "x": 104.0834872, 
    "y": 30.6834598
}
```

###  2. Get suggest name candidates

`/suggest`

#### Example

##### Request 
	http://127.0.0.1:8080/api/map/suggest/?callback=jQuery111208834337801672518_1430982414266&q=%E6%88%90%E9%83%BD&_=1430982414272

##### Response

	jQuery111208834337801672518_1430982414266(["成都2.5环路","成都49中","成都七中实验学校","成都七中育才学校","成都七中育才学校（新校区）","成都万贯服装产业园","成都东客站 East Railway Station","成都东方明珠花园","成都东站","成都中电锦江信息产业有限公司","成都二仙桥派出所"])

###  3. find nodes that match the names.

`/findNodes/{queryStr}`

#### Example

##### Request 
	http://127.0.0.1:3000/api/map/findNodes/%E6%98%9F%E5%B7%B4%E5%85%8B

##### Response
```
[{"x":104.0654934,"y":30.6601337},{"x":104.064139,"y":30.60451},{"x":104.0593122,"y":30.6500798},{"x":104.0460577,"y":30.6156397},{"x":104.0825538,"y":30.6483154},{"x":104.0884452,"y":30.6448503},{"x":104.090872,"y":30.6159933}]
```

###  2. Routing

`/routing/{sId}/{tId}`

#### Example


##### Request 
	http://127.0.0.1:3000/api/map/routing/803147935/314622911
##### Response
```
{"paths":[{"x":104.0850575,"y":30.6415535},{"x":104.0847193,"y":30.6413739},{"x":104.0835382,"y":30.6408278},{"x":104.0817034,"y":30.6399796},{"x":104.0804458,"y":30.6394197},{"x":104.0786381,"y":30.638549},{"x":104.0780484,"y":30.6382719},{"x":104.077451,"y":30.6379912},{"x":104.0739046,"y":30.6363245},{"x":104.0736149,"y":30.6361583},{"x":104.0726761,"y":30.6361412},{"x":104.0708032,"y":30.6360332},{"x":104.0703782,"y":30.6360378},{"x":104.068662,"y":30.6359848},{"x":104.0668757,"y":30.635953},{"x":104.065395,"y":30.6358888},{"x":104.0647125,"y":30.6359698},{"x":104.0643158,"y":30.6359627},{"x":104.064222,"y":30.6359627},{"x":104.0641099,"y":30.6359644},{"x":104.0639924,"y":30.6359641},{"x":104.0636329,"y":30.6359578},{"x":104.062715,"y":30.6358983},{"x":104.061357,"y":30.6358521},{"x":104.0586239,"y":30.6358145},{"x":104.0584183,"y":30.6358076},{"x":104.0573059,"y":30.6357703},{"x":104.0559777,"y":30.6357258},{"x":104.0537407,"y":30.6356935},{"x":104.0528663,"y":30.6356474},{"x":104.052362,"y":30.6356381}]}
```